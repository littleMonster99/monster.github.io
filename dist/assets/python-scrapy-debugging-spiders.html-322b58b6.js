import{_ as e,W as s,X as i,Y as a,Z as t,$ as o,a0 as c,D as p}from"./framework-f64bc974.js";const r={},l=c(`<h1 id="scrapy入门-三-调试-debugging-spiders" tabindex="-1"><a class="header-anchor" href="#scrapy入门-三-调试-debugging-spiders" aria-hidden="true">#</a> Scrapy入门（三）-调试(Debugging)Spiders</h1><h2 id="_1-背景" tabindex="-1"><a class="header-anchor" href="#_1-背景" aria-hidden="true">#</a> 1. 背景</h2><p>而Scrapy的爬虫通常是在命令行中启动的，我们怎么去调试呢？</p><h2 id="_2-调试部署" tabindex="-1"><a class="header-anchor" href="#_2-调试部署" aria-hidden="true">#</a> 2. 调试部署</h2><ol><li><p>首先在setting.py同级目录下创建run.py文件。</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20210311105958418.png" alt="image-20210311105958418" tabindex="0" loading="lazy"><figcaption>image-20210311105958418</figcaption></figure></li></ol><p>写入以下代码</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># -*- coding: utf-8 -*-</span>

<span class="token keyword">from</span> scrapy <span class="token keyword">import</span> cmdline


name <span class="token operator">=</span> <span class="token string">&#39;douban_movie_top250&#39;</span>
cmd <span class="token operator">=</span> <span class="token string">&#39;scrapy crawl {0}&#39;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
cmdline<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>cmd<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中name参数为spider的name。 接着在spider文件中设置断点。</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20210311110405697.png" alt="image-20210311110405697" tabindex="0" loading="lazy"><figcaption>image-20210311110405697</figcaption></figure><p>返回run.py文件中右键选择Debug。</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20210311110423296.png" alt="image-20210311110423296" tabindex="0" loading="lazy"><figcaption>image-20210311110423296</figcaption></figure><p>最后程序就会在断点处暂停，我们就可以查看相应的内容从而进行调试 。</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20210311110438767.png" alt="image-20210311110438767" tabindex="0" loading="lazy"><figcaption>image-20210311110438767</figcaption></figure><h2 id="参考文章" tabindex="-1"><a class="header-anchor" href="#参考文章" aria-hidden="true">#</a> 参考文章</h2>`,14),g={href:"https://zhuanlan.zhihu.com/p/25200262",target:"_blank",rel:"noopener noreferrer"};function d(u,m){const n=p("ExternalLinkIcon");return s(),i("div",null,[l,a("p",null,[a("a",g,[t("Scrapy爬虫框架教程（三）-- 调试(Debugging)Spiders"),o(n)])])])}const h=e(r,[["render",d],["__file","python-scrapy-debugging-spiders.html.vue"]]);export{h as default};
