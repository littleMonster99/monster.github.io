import{_ as n,W as a,X as s,a0 as e}from"./framework-f64bc974.js";const t={},p=e(`<h1 id="mall中广告-轮播图-设计" tabindex="-1"><a class="header-anchor" href="#mall中广告-轮播图-设计" aria-hidden="true">#</a> mall中广告(轮播图)设计</h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介" aria-hidden="true">#</a> 1. 简介</h2><p>用于管理首页显示的轮播广告信息。</p><h2 id="_2-数据库设计" tabindex="-1"><a class="header-anchor" href="#_2-数据库设计" aria-hidden="true">#</a> 2. 数据库设计</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>create table sms_home_advertise
(
   id                   bigint not null auto_increment,
   name                 varchar(100) comment &#39;名称&#39;,
   type                 int(1) comment &#39;轮播位置：0-&gt;PC首页轮播；1-&gt;app首页轮播&#39;,
   pic                  varchar(500) comment &#39;图片地址&#39;,
   start_time           datetime comment &#39;开始时间&#39;,
   end_time             datetime comment &#39;结束时间&#39;,
   status               int(1) comment &#39;上下线状态：0-&gt;下线；1-&gt;上线&#39;,
   click_count          int comment &#39;点击数&#39;,
   order_count          int comment &#39;下单数&#39;,
   url                  varchar(500) comment &#39;链接地址&#39;,
   note                 varchar(500) comment &#39;备注&#39;,
   sort                 int default 0 comment &#39;排序&#39;,
   primary key (id)
);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-代码设计" tabindex="-1"><a class="header-anchor" href="#_3-代码设计" aria-hidden="true">#</a> 3. 代码设计</h2><h3 id="_3-1-分页查询广告" tabindex="-1"><a class="header-anchor" href="#_3-1-分页查询广告" aria-hidden="true">#</a> 3.1 分页查询广告</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SmsHomeAdvertise</span><span class="token punctuation">&gt;</span></span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> type<span class="token punctuation">,</span> <span class="token class-name">String</span> endTime<span class="token punctuation">,</span> <span class="token class-name">Integer</span> pageSize<span class="token punctuation">,</span> <span class="token class-name">Integer</span> pageNum<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">PageHelper</span><span class="token punctuation">.</span><span class="token function">startPage</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">,</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SmsHomeAdvertiseExample</span> example <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SmsHomeAdvertiseExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SmsHomeAdvertiseExample<span class="token punctuation">.</span>Criteria</span> criteria <span class="token operator">=</span> example<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        criteria<span class="token punctuation">.</span><span class="token function">andNameLike</span><span class="token punctuation">(</span><span class="token string">&quot;%&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        criteria<span class="token punctuation">.</span><span class="token function">andTypeEqualTo</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>endTime<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> startStr <span class="token operator">=</span> endTime <span class="token operator">+</span> <span class="token string">&quot; 00:00:00&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> endStr <span class="token operator">=</span> endTime <span class="token operator">+</span> <span class="token string">&quot; 23:59:59&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Date</span> start <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            start <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>startStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Date</span> end <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            end <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>endStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> end <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            criteria<span class="token punctuation">.</span><span class="token function">andEndTimeBetween</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    example<span class="token punctuation">.</span><span class="token function">setOrderByClause</span><span class="token punctuation">(</span><span class="token string">&quot;sort desc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> advertiseMapper<span class="token punctuation">.</span><span class="token function">selectByExample</span><span class="token punctuation">(</span>example<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-新增广告" tabindex="-1"><a class="header-anchor" href="#_3-2-新增广告" aria-hidden="true">#</a> 3.2 新增广告</h3><p>初始化点击次数和订单次数是在代码层做的</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">SmsHomeAdvertise</span> advertise<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        advertise<span class="token punctuation">.</span><span class="token function">setClickCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        advertise<span class="token punctuation">.</span><span class="token function">setOrderCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> advertiseMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>advertise<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-界面设计" tabindex="-1"><a class="header-anchor" href="#_4-界面设计" aria-hidden="true">#</a> 4. 界面设计</h2><h3 id="_4-1-管理端" tabindex="-1"><a class="header-anchor" href="#_4-1-管理端" aria-hidden="true">#</a> 4.1 管理端</h3><h4 id="_4-1-1-广告列表" tabindex="-1"><a class="header-anchor" href="#_4-1-1-广告列表" aria-hidden="true">#</a> 4.1.1 广告列表</h4><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20220320185355632.png" alt="image-20220320185355632" tabindex="0" loading="lazy"><figcaption>image-20220320185355632</figcaption></figure><h4 id="_4-1-2-编辑广告" tabindex="-1"><a class="header-anchor" href="#_4-1-2-编辑广告" aria-hidden="true">#</a> 4.1.2 编辑广告</h4><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20220320185414101.png" alt="image-20220320185414101" tabindex="0" loading="lazy"><figcaption>image-20220320185414101</figcaption></figure><h3 id="_4-2-移动端" tabindex="-1"><a class="header-anchor" href="#_4-2-移动端" aria-hidden="true">#</a> 4.2 移动端</h3><h4 id="_4-2-1-首页轮播广告" tabindex="-1"><a class="header-anchor" href="#_4-2-1-首页轮播广告" aria-hidden="true">#</a> 4.2.1 首页轮播广告</h4><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20220320185525867.png" alt="image-20220320185525867" tabindex="0" loading="lazy"><figcaption>image-20220320185525867</figcaption></figure><h2 id="_5-使用感受" tabindex="-1"><a class="header-anchor" href="#_5-使用感受" aria-hidden="true">#</a> 5. 使用感受</h2><h3 id="_5-1-扩展性不强" tabindex="-1"><a class="header-anchor" href="#_5-1-扩展性不强" aria-hidden="true">#</a> 5.1 扩展性不强</h3><p>现在只有，PC首页轮播，app首页轮播。如果我们其他地方需要轮播，我们需要改代码。</p><p>如果配上字典表的话，情况会好一点</p>`,24),c=[p];function i(o,l){return a(),s("div",null,c)}const r=n(t,[["render",i],["__file","mall-ad.html.vue"]]);export{r as default};
